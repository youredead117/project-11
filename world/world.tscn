[gd_scene load_steps=13 format=3 uid="uid://bdldnb7vrr650"]

[ext_resource type="Script" uid="uid://m0p3jahxb2vq" path="res://world/world.gd" id="1_tcf2h"]
[ext_resource type="Texture2D" uid="uid://c56hp7nbf3q01" path="res://addons/kenney_prototype_textures/dark/texture_06.png" id="2_4717r"]

[sub_resource type="Shader" id="Shader_tcf2h"]
code = "
// NOTE: Shader automatically converted from Godot Engine 4.4.1.stable's PanoramaSkyMaterial.

shader_type sky;

uniform sampler2D source_panorama : filter_linear, source_color, hint_default_black;
uniform float exposure : hint_range(0, 128) = 1.0;
uniform float speed;
uniform sampler2D blend : filter_linear, source_color, hint_default_transparent;

void sky() {
	vec2 coord = SKY_COORDS;
	coord.x += TIME * speed * 0.001;
	COLOR = texture(source_panorama, coord).rgb * exposure;
	float alpha_blend = texture(blend, coord).a;
	COLOR *= texture(blend, coord).rgb * vec3(alpha_blend, alpha_blend, alpha_blend);
}
"

[sub_resource type="Gradient" id="Gradient_4717r"]
offsets = PackedFloat32Array(0.3, 0.5, 1)
colors = PackedColorArray(0.176471, 0.133333, 0.141176, 0, 1, 1, 1, 1, 1, 1, 0, 1)
metadata/_snap_enabled = true

[sub_resource type="GradientTexture2D" id="GradientTexture2D_h5o24"]
gradient = SubResource("Gradient_4717r")
fill_from = Vector2(1, 1)

[sub_resource type="Gradient" id="Gradient_tcf2h"]
colors = PackedColorArray(0.829954, 0.652852, 0.826235, 1, 0.374893, 1.77121e-05, 0.299789, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_4717r"]
offset = Vector3(342.706, 0, 0)

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_h5o24"]
generate_mipmaps = false
seamless = true
seamless_blend_skirt = 0.325
bump_strength = 339.0
color_ramp = SubResource("Gradient_tcf2h")
noise = SubResource("FastNoiseLite_4717r")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4717r"]
shader = SubResource("Shader_tcf2h")
shader_parameter/source_panorama = SubResource("NoiseTexture2D_h5o24")
shader_parameter/exposure = 1.0
shader_parameter/speed = 4.4
shader_parameter/blend = SubResource("GradientTexture2D_h5o24")

[sub_resource type="Sky" id="Sky_fn3g3"]
sky_material = SubResource("ShaderMaterial_4717r")
process_mode = 3

[sub_resource type="Environment" id="Environment_sc4t8"]
background_mode = 2
sky = SubResource("Sky_fn3g3")
sky_custom_fov = 117.1
ambient_light_source = 3
glow_enabled = true
glow_intensity = 2.95
glow_bloom = 0.24

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6xmxd"]
albedo_texture = ExtResource("2_4717r")
emission_enabled = true
emission_energy_multiplier = 1.45
emission_texture = ExtResource("2_4717r")
uv1_triplanar = true
texture_filter = 2

[node name="World" type="Node3D"]
script = ExtResource("1_tcf2h")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.570972, 0.82097, 0, -0.82097, -0.570972, 0, 2.17077, 0)
layers = 3
light_color = Color(0.94854, 0.791661, 0.751922, 1)
light_energy = 1.661

[node name="DirectionalLight3D2" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.935561, -0.289938, -0.201647, 0, -0.570972, 0.82097, -0.353165, 0.768067, 0.534179, 0, 2.17077, 0)
layers = 3
light_color = Color(0.733911, 0.560803, 0.520904, 1)
light_energy = 0.362

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_sc4t8")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="."]
material_override = SubResource("StandardMaterial3D_6xmxd")
use_collision = true
collision_layer = 3
collision_mask = 3

[node name="CSGBox3D" type="CSGBox3D" parent="CSGCombiner3D"]
size = Vector3(100, 0.5, 100)

[node name="CSGBox3D2" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 1, 2)
size = Vector3(1, 3, 5)

[node name="CSGBox3D3" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.5, -0.7, 9.5)
size = Vector3(2, 3, 2)

[node name="CSGBox3D4" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.5, 0.05, 6.5)
size = Vector3(2, 2.5, 2)

[node name="CSGBox3D5" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.5, 0.3, 6.5)
size = Vector3(2, 3, 2)

[node name="CSGBox3D6" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.2, 0.8, 6.5)
size = Vector3(2, 3, 2)

[node name="CSGBox3D8" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 19.2, 4.3, 6.5)
size = Vector3(2, 3, 2)

[node name="CSGBox3D7" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.7, 1.3, 7.4)
size = Vector3(5, 3, 3.8)

[node name="CSGBox3D9" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 0.965926, -0.258819, 0, 0.258819, 0.965926, 17.7, -1.38883, 23.7513)
size = Vector3(5, 4, 17)

[node name="CSGBox3D10" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 0.939693, -0.34202, 0, 0.34202, 0.939693, 13.2, -1.38883, 23.7513)
size = Vector3(4, 4, 17)

[node name="CSGBox3D11" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 0.906308, -0.422618, 0, 0.422618, 0.906308, 9.2, -1.38883, 23.7513)
size = Vector3(4, 4, 17)

[node name="CSGBox3D12" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 0.866025, -0.5, 0, 0.5, 0.866025, 5.2, -1.38883, 23.7513)
size = Vector3(4, 4, 17)

[node name="CSGBox3D13" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 0.819152, -0.573576, 0, 0.573576, 0.819152, 1.2, -1.38883, 23.7513)
size = Vector3(4, 4, 17)

[node name="CSGBox3D14" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 0.766045, -0.642788, 0, 0.642788, 0.766045, -2.8, -1.38883, 23.7513)
size = Vector3(4, 4, 17)

[node name="CSGBox3D15" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 0.707107, -0.707107, 0, 0.707107, 0.707107, -6.8, -1.38883, 23.7513)
size = Vector3(4, 4, 17)
